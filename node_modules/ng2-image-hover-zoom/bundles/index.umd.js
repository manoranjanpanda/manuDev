(function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("@angular/core")):"function"==typeof define&&define.amd?define(["@angular/core"],factory):"object"==typeof exports?exports["ng2-image-hover-zoom"]=factory(require("@angular/core")):root["ng2-image-hover-zoom"]=factory(root["@angular/core"])})(this,function(__WEBPACK_EXTERNAL_MODULE_0__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=4)}([function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__angular_core__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);__webpack_require__.d(__webpack_exports__,"a",function(){return ImageZoomContainer});var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ImageZoomContainer=function(){function ImageZoomContainer(_elementRef){this._elementRef=_elementRef,this.el=this._elementRef.nativeElement}return ImageZoomContainer.prototype.setOptions=function(options){this.el.style.backgroundImage="url("+options.src+")",this.el.style.left=options.left+"px",this.el.style.top=options.top+"px",this.el.style.width=options.width+"px",this.el.style.height=options.height+"px"},ImageZoomContainer.prototype.setVisibility=function(visible){this.el.style.display=visible?"block":"none"},ImageZoomContainer.prototype.setBackgroundPosition=function(position){this.el.style.backgroundPosition=position},ImageZoomContainer}();ImageZoomContainer=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.Component)({selector:"image-zoom-container",template:"",styles:["\n    :host{\n      position: absolute;\n      width: 400px;\n      height: 400px;\n      overflow: hidden;\n      display: none;\n      border: 1px solid #7a7a7a;\n    }\n  "]}),__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__angular_core__.ElementRef])],ImageZoomContainer)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__angular_core__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);__webpack_require__.d(__webpack_exports__,"a",function(){return ZoomLensContainer});var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ZoomLensContainer=function(){function ZoomLensContainer(_elementRef){this._elementRef=_elementRef,this.el=this._elementRef.nativeElement}return ZoomLensContainer.prototype.setOptions=function(options){this.el.style.left=options.left+"px",this.el.style.top=options.top+"px",this.el.style.width=options.width+"px",this.el.style.height=options.height+"px"},ZoomLensContainer.prototype.setVisibility=function(visible){this.el.style.display=visible?"block":"none"},ZoomLensContainer}();ZoomLensContainer=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.Component)({selector:"zoom-lens-container",template:"",styles:["\n    :host{\n      position: absolute;\n      width: 0px;\n      height: 0px;\n      overflow: hidden;\n      display: none;\n      background-color: rgba(0,0,0,0.4);\n      pointer-events: none;\n    }\n  "]}),__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__angular_core__.ElementRef])],ZoomLensContainer)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__angular_core__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__image_zoom_container_component__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_2__zoom_lens_container_component__=__webpack_require__(2);__webpack_require__.d(__webpack_exports__,"a",function(){return ImageZoomDirective});var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ImageZoomDirective=function(){function ImageZoomDirective(_componentFactoryResolver,_viewContainerRef,_elementRef){var _this=this;if(this._componentFactoryResolver=_componentFactoryResolver,this._viewContainerRef=_viewContainerRef,this._elementRef=_elementRef,this._imageLoaded=!1,this._componentsCreated=!1,this._zoomedImageLoaded=!1,this._moveImagePosX=!0,this._moveImagePosY=!0,"IMG"!==this._elementRef.nativeElement.nodeName)return void console.error("ImageZoom not placed on image element",this._elementRef.nativeElement);this.img=this._elementRef.nativeElement,this.img.onload=function(){_this._imageLoaded=!0,_this._componentsCreated&&_this.imageChanged()};var imageZoomContainerFactory=this._componentFactoryResolver.resolveComponentFactory(__WEBPACK_IMPORTED_MODULE_1__image_zoom_container_component__.a),imageLensContainerFactory=this._componentFactoryResolver.resolveComponentFactory(__WEBPACK_IMPORTED_MODULE_2__zoom_lens_container_component__.a);this._imageZoomContainerRef=this._viewContainerRef.createComponent(imageZoomContainerFactory),this._lensContainerRef=this._viewContainerRef.createComponent(imageLensContainerFactory),this.zoomContainer=this._imageZoomContainerRef.instance,this.lensContainer=this._lensContainerRef.instance,this._componentsCreated=!0,this._imageLoaded&&this.imageChanged()}return ImageZoomDirective.prototype.onMouseOver=function(event){"undefined"!=typeof window&&window.innerWidth>992&&(this._elementRef.nativeElement.style.cursor=this._zoomedImageLoaded?"crosshair":"wait",this._imageLoaded&&(this.zoomContainer.setVisibility(!0),this.lensContainer.setVisibility(!0),this.setImageStyle(event),this.setLensContainerStyle(event)))},ImageZoomDirective.prototype.onMouseOut=function(){"undefined"!=typeof window&&window.innerWidth>992&&(this.zoomContainer.setVisibility(!1),this.lensContainer.setVisibility(!1))},ImageZoomDirective.prototype.onMouseMove=function(){"undefined"!=typeof window&&window.innerWidth>992&&(this.setLensContainerStyle(event),this.setImageStyle(event))},ImageZoomDirective.prototype.imageChanged=function(){var _this=this;this._zoomedImageLoaded=!1,this._zoomedImage=new Image,this._zoomedImage.onload=function(){_this._zoomedImageWidth=_this._zoomedImage.width,_this._zoomedImageHeight=_this._zoomedImage.height,_this._zoomedImageLoaded=!0,_this.setImageZoomContainer()},this._zoomedImage.src=this.imageZoom?this.imageZoom:this.img.src},ImageZoomDirective.prototype.setImageZoomContainer=function(){var options={},left=this._elementRef.nativeElement.width+this._elementRef.nativeElement.offsetLeft+50,top=this._elementRef.nativeElement.offsetTop;options.left=left,options.src=this._zoomedImage.src,options.top=top,options.height=this._elementRef.nativeElement.offsetHeight,options.width=this._elementRef.nativeElement.offsetWidth,this.zoomContainer.setOptions(options)},ImageZoomDirective.prototype.setLensContainerStyle=function(event){var options={},boundry=this._elementRef.nativeElement.getBoundingClientRect(),imagePointerX=event.offsetX,imagePointerY=event.offsetY,imageWidth=this._elementRef.nativeElement.offsetWidth,imageHeight=this._elementRef.nativeElement.offsetHeight,scaleX=imageWidth/this._zoomedImageWidth,scaleY=imageHeight/this._zoomedImageHeight,width=imageWidth*scaleX,height=imageHeight*scaleY,left=imagePointerX-width/2,top=imagePointerY-height/2;boundry.left>left?(options.left=boundry.left,this._moveImagePosX=!1):left>boundry.width-width?(options.left=boundry.width-width,this._moveImagePosX=!1):(options.left=left,this._moveImagePosX=!0),boundry.top>top?(options.top=boundry.top,this._moveImagePosY=!1):top>boundry.height-height?(options.top=boundry.height-height,this._moveImagePosY=!1):(options.top=top,this._moveImagePosY=!0),options.height=height,options.width=width,this.lensContainer.setOptions(options)},ImageZoomDirective.prototype.setImageStyle=function(event){var backgroundPos=this.getbackgroundPos(event);this.zoomContainer.setBackgroundPosition(backgroundPos)},ImageZoomDirective.prototype.getbackgroundPos=function(event){var imagePointerX=event.offsetX,imagePointerY=event.offsetY,imageWidth=this._elementRef.nativeElement.offsetWidth,imageHeight=this._elementRef.nativeElement.offsetHeight,scaleX=this._zoomedImageWidth/imageWidth,scaleY=this._zoomedImageHeight/imageHeight;return(this._moveImagePosX?-(imagePointerX*scaleX-imageWidth/2)+"px":this._zoomedImageWidth===imageWidth?"0px":this.zoomContainer.el.style.backgroundPositionX)+" "+(this._moveImagePosY?-(imagePointerY*scaleY-imageHeight/2)+"px":this._zoomedImageHeight===imageHeight?"0px":this.zoomContainer.el.style.backgroundPositionY)},ImageZoomDirective.prototype.ngOnChanges=function(changes){this.imageChanged()},ImageZoomDirective}();__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.Input)(),__metadata("design:type",String)],ImageZoomDirective.prototype,"imageZoom",void 0),__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.HostListener)("mouseover",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],ImageZoomDirective.prototype,"onMouseOver",null),__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.HostListener)("mouseout",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ImageZoomDirective.prototype,"onMouseOut",null),__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.HostListener)("mousemove",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ImageZoomDirective.prototype,"onMouseMove",null),ImageZoomDirective=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.Directive)({selector:"[imageZoom]"}),__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__angular_core__.ComponentFactoryResolver,__WEBPACK_IMPORTED_MODULE_0__angular_core__.ViewContainerRef,__WEBPACK_IMPORTED_MODULE_0__angular_core__.ElementRef])],ImageZoomDirective)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__angular_core__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__image_zoom_image_zoom_directive__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__),__webpack_require__(3)),__WEBPACK_IMPORTED_MODULE_2__image_zoom_image_zoom_container_component__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_3__image_zoom_zoom_lens_container_component__=__webpack_require__(2);__webpack_require__.d(__webpack_exports__,"ImageZoomDirective",function(){return __WEBPACK_IMPORTED_MODULE_1__image_zoom_image_zoom_directive__.a}),__webpack_require__.d(__webpack_exports__,"ImageZoomContainer",function(){return __WEBPACK_IMPORTED_MODULE_2__image_zoom_image_zoom_container_component__.a}),__webpack_require__.d(__webpack_exports__,"ZoomLensContainer",function(){return __WEBPACK_IMPORTED_MODULE_3__image_zoom_zoom_lens_container_component__.a}),__webpack_require__.d(__webpack_exports__,"ImageZoomModule",function(){return ImageZoomModule});var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},ImageZoomModule=ImageZoomModule_1=function(){function ImageZoomModule(){}return ImageZoomModule.forRoot=function(){return{ngModule:ImageZoomModule_1}},ImageZoomModule}();ImageZoomModule=ImageZoomModule_1=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__.NgModule)({declarations:[__WEBPACK_IMPORTED_MODULE_2__image_zoom_image_zoom_container_component__.a,__WEBPACK_IMPORTED_MODULE_1__image_zoom_image_zoom_directive__.a,__WEBPACK_IMPORTED_MODULE_3__image_zoom_zoom_lens_container_component__.a],exports:[__WEBPACK_IMPORTED_MODULE_1__image_zoom_image_zoom_directive__.a],entryComponents:[__WEBPACK_IMPORTED_MODULE_2__image_zoom_image_zoom_container_component__.a,__WEBPACK_IMPORTED_MODULE_3__image_zoom_zoom_lens_container_component__.a]})],ImageZoomModule);var ImageZoomModule_1}])});